{"ast":null,"code":"import _regeneratorRuntime from \"/Users/dustinhunt/bank-of-the-sun/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/dustinhunt/bank-of-the-sun/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/dustinhunt/bank-of-the-sun/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/dustinhunt/bank-of-the-sun/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/dustinhunt/bank-of-the-sun/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/dustinhunt/bank-of-the-sun/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/dustinhunt/bank-of-the-sun/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/dustinhunt/bank-of-the-sun/src/components/home.component.js\";\nimport React, { Component, Fragment } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport \"../css/home.css\";\nimport Navigation from \"./nav.component\";\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n    _this.state = {\n      accounts: [],\n      isLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var token, api, accounts;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                token = _this2.props.token;\n                api = axios.create({\n                  baseURL: 'http://45.77.58.134:8080',\n                  headers: {\n                    'Authorization': 'Bearer ' + token\n                  }\n                });\n\n                _this2.setState({\n                  isLoading: true\n                });\n\n                _context.next = 6;\n                return api.get(\"/accounts/\".concat(_this2.props.clients[0]._id));\n\n              case 6:\n                accounts = _context.sent;\n\n                _this2.setState({\n                  accounts: accounts.data,\n                  isLoading: false\n                }); // console.log(accounts);\n\n\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](0);\n\n                // handle error.\n                _this2.setState({\n                  isLoading: false\n                });\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 10]]);\n      }))();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.isLoading) {\n        return \"Loading...\";\n      }\n\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Navigation, {\n        clients: this.props.clients,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, this.state.accounts.map(function (account) {\n        return React.createElement(\"div\", {\n          key: account._id,\n          class: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"card\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/view-account/\".concat(account._id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"card-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, \"\".concat(account.type))), React.createElement(\"div\", {\n          class: \"card-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, \"Balance: R\".concat(account.balance))));\n      })));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":{"version":3,"sources":["/Users/dustinhunt/bank-of-the-sun/src/components/home.component.js"],"names":["React","Component","Fragment","axios","Link","Navigation","Home","props","state","accounts","isLoading","token","api","create","baseURL","headers","setState","get","clients","_id","data","map","account","type","balance"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAO,iBAAP;AACA,OAAOC,UAAP,MAAuB,iBAAvB;;IAEMC,I;;;;;AACF,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,EADD;AAETC,MAAAA,SAAS,EAAE;AAFF,KAAb;AAFe;AAMlB;;;;wCAEmB;AAAA;;AAChB;AAAA;AAAA,+BAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGaC,gBAAAA,KAHb,GAGqB,MAAI,CAACJ,KAAL,CAAWI,KAHhC;AAKaC,gBAAAA,GALb,GAKmBT,KAAK,CAACU,MAAN,CAAa;AACrBC,kBAAAA,OAAO,EAAE,0BADY;AAErBC,kBAAAA,OAAO,EAAE;AAAC,qCAAiB,YAAYJ;AAA9B;AAFY,iBAAb,CALnB;;AAUO,gBAAA,MAAI,CAACK,QAAL,CAAc;AACVN,kBAAAA,SAAS,EAAE;AADD,iBAAd;;AAVP;AAAA,uBAc8BE,GAAG,CAACK,GAAJ,qBAAqB,MAAI,CAACV,KAAL,CAAWW,OAAX,CAAmB,CAAnB,EAAsBC,GAA3C,EAd9B;;AAAA;AAcaV,gBAAAA,QAdb;;AAgBO,gBAAA,MAAI,CAACO,QAAL,CAAc;AACVP,kBAAAA,QAAQ,EAAEA,QAAQ,CAACW,IADT;AAEVV,kBAAAA,SAAS,EAAE;AAFD,iBAAd,EAhBP,CAoBO;;;AApBP;AAAA;;AAAA;AAAA;AAAA;;AAuBO;AACA,gBAAA,MAAI,CAACM,QAAL,CAAc;AACVN,kBAAAA,SAAS,EAAE;AADD,iBAAd;;AAxBP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAD;AA6BH;;;6BAEQ;AAEL,UAAI,KAAKF,KAAL,CAAWE,SAAf,EAA0B;AACtB,eAAO,YAAP;AACH;;AAED,aACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAE,KAAKH,KAAL,CAAWW,OAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,KAAKV,KAAL,CAAWC,QAAX,CAAoBY,GAApB,CAAwB,UAACC,OAAD;AAAA,eACtB;AAAK,UAAA,GAAG,EAAEA,OAAO,CAACH,GAAlB;AAAuB,UAAA,KAAK,EAAC,WAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEI,oBAAC,IAAD;AAAM,UAAA,EAAE,0BAAmBG,OAAO,CAACH,GAA3B,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA0C;AAAK,UAAA,KAAK,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAA6BG,OAAO,CAACC,IAArC,EAA1C,CAFJ,EAGI;AAAK,UAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAqCD,OAAO,CAACE,OAA7C,EAHJ,CADF,CADsB;AAAA,OAAxB,CAFJ,CAHJ,CADJ;AAqBH;;;;EApEcvB,S;;AAuEnB,eAAeK,IAAf","sourcesContent":["import React, {Component, Fragment} from \"react\";\nimport axios from \"axios\";\nimport {Link} from \"react-router-dom\"\nimport \"../css/home.css\"\nimport Navigation from \"./nav.component\";\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            accounts: [],\n            isLoading: false\n        };\n    }\n\n    componentDidMount() {\n        (async () => {\n\n            try {\n                const token = this.props.token;\n\n                const api = axios.create({\n                    baseURL: 'http://45.77.58.134:8080',\n                    headers: {'Authorization': 'Bearer ' + token}\n                });\n\n                this.setState({\n                    isLoading: true\n                });\n\n                const accounts = await api.get(`/accounts/${this.props.clients[0]._id}`);\n\n                this.setState({\n                    accounts: accounts.data,\n                    isLoading: false\n                });\n                // console.log(accounts);\n\n            } catch (e) {\n                // handle error.\n                this.setState({\n                    isLoading: false\n                })\n            }\n        })();\n    }\n\n    render() {\n\n        if (this.state.isLoading) {\n            return \"Loading...\"\n        }\n\n        return (\n            <Fragment>\n                <Navigation clients={this.props.clients}/>\n\n                <ul>\n                  {\n                    this.state.accounts.map((account)=> (\n                      <div key={account._id} class=\"container\">\n                        <div class=\"card\">\n\n                            <Link to={`/view-account/${account._id}`}><div class=\"card-header\">{`${account.type}`}</div></Link>\n                            <div class=\"card-body\">{`Balance: R${account.balance}`}</div>\n\n                        </div>\n                      </div>\n                    ))\n                 }\n               </ul>\n\n            </Fragment>\n        )\n    }\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}